<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>libARStream: ARSTREAM_Sender.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libARStream
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ARSTREAM__Sender_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ARSTREAM_Sender.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Stream sender over network.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;inttypes.h&gt;</code><br/>
<code>#include &lt;<a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/ARNETWORK__Manager_8h.html">libARNetwork/ARNETWORK_Manager.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="ARSTREAM__Error_8h_source.html">libARStream/ARSTREAM_Error.h</a>&gt;</code><br/>
</div>
<p><a href="ARSTREAM__Sender_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a090aeb087a1d842285d85cd3e649a9f3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a090aeb087a1d842285d85cd3e649a9f3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#a090aeb087a1d842285d85cd3e649a9f3">ARSTREAM_SENDER_DEFAULT_MINIMUM_TIME_BETWEEN_RETRIES_MS</a>&#160;&#160;&#160;(15)</td></tr>
<tr class="memdesc:a090aeb087a1d842285d85cd3e649a9f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default minimum wait time for ARSTREAM_Sender_SetTimeBetweenRetries calls. <br/></td></tr>
<tr class="separator:a090aeb087a1d842285d85cd3e649a9f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26f058e9d6c7239cdfad29939e21683"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa26f058e9d6c7239cdfad29939e21683"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#aa26f058e9d6c7239cdfad29939e21683">ARSTREAM_SENDER_DEFAULT_MAXIMUM_TIME_BETWEEN_RETRIES_MS</a>&#160;&#160;&#160;(50)</td></tr>
<tr class="memdesc:aa26f058e9d6c7239cdfad29939e21683"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default maximum wait time for ARSTREAM_Sender_SetTimeBetweenRetries calls. <br/></td></tr>
<tr class="separator:aa26f058e9d6c7239cdfad29939e21683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f076c791d04f4e1299ed6d7cc4a127"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#a93f076c791d04f4e1299ed6d7cc4a127">ARSTREAM_SENDER_INFINITE_TIME_BETWEEN_RETRIES</a>&#160;&#160;&#160;(100000)</td></tr>
<tr class="memdesc:a93f076c791d04f4e1299ed6d7cc4a127"><td class="mdescLeft">&#160;</td><td class="mdescRight">"Infinite" time. Use this time as both minimum and maximum time in ARSTREAM_Sender_SetTimeBetweenRetries to disable retries.  <a href="#a93f076c791d04f4e1299ed6d7cc4a127">More...</a><br/></td></tr>
<tr class="separator:a93f076c791d04f4e1299ed6d7cc4a127"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad10c23eb61455d64f318ae005ec93075"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#ad10c23eb61455d64f318ae005ec93075">ARSTREAM_Sender_FrameUpdateCallback_t</a> )(<a class="el" href="ARSTREAM__Sender_8h.html#ac3e6c617607473990c705a0d081dd01d">eARSTREAM_SENDER_STATUS</a> status, uint8_t *framePointer, uint32_t frameSize, void *custom)</td></tr>
<tr class="memdesc:ad10c23eb61455d64f318ae005ec93075"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback type for sender informations This callback is called when a frame pointer is no longer needed by the library. This can occur when a frame is acknowledged, cancelled, or if a network error happened.  <a href="#ad10c23eb61455d64f318ae005ec93075">More...</a><br/></td></tr>
<tr class="separator:ad10c23eb61455d64f318ae005ec93075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10fd0b4d4d23202e08626434f3b3479f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10fd0b4d4d23202e08626434f3b3479f"></a>
typedef struct <a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a></td></tr>
<tr class="memdesc:a10fd0b4d4d23202e08626434f3b3479f"><td class="mdescLeft">&#160;</td><td class="mdescRight">An ARSTREAM_Sender_t instance allow streaming frames over a network. <br/></td></tr>
<tr class="separator:a10fd0b4d4d23202e08626434f3b3479f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ac3e6c617607473990c705a0d081dd01d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#ac3e6c617607473990c705a0d081dd01d">eARSTREAM_SENDER_STATUS</a> { <a class="el" href="ARSTREAM__Sender_8h.html#ac3e6c617607473990c705a0d081dd01daa8d856331e4c05cca27f18d55119b416">ARSTREAM_SENDER_STATUS_FRAME_SENT</a> = 0, 
<a class="el" href="ARSTREAM__Sender_8h.html#ac3e6c617607473990c705a0d081dd01dab1d823a098890ea715536d5da93a5d2f">ARSTREAM_SENDER_STATUS_FRAME_CANCEL</a>, 
<a class="el" href="ARSTREAM__Sender_8h.html#ac3e6c617607473990c705a0d081dd01da6b56f5700a9b9cdd1ca1f52bef2e99d7">ARSTREAM_SENDER_STATUS_FRAME_LATE_ACK</a>, 
<b>ARSTREAM_SENDER_STATUS_MAX</b>
 }</td></tr>
<tr class="memdesc:ac3e6c617607473990c705a0d081dd01d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback status values.  <a href="ARSTREAM__Sender_8h.html#ac3e6c617607473990c705a0d081dd01d">More...</a><br/></td></tr>
<tr class="separator:ac3e6c617607473990c705a0d081dd01d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a153ec12bc13015070bd1913cd69e6f4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#a153ec12bc13015070bd1913cd69e6f4b">ARSTREAM_Sender_InitStreamDataBuffer</a> (<a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/structARNETWORK__IOBufferParam__t.html">ARNETWORK_IOBufferParam_t</a> *bufferParams, int bufferID, int maxFragmentSize, uint32_t maxFragmentPerFrame)</td></tr>
<tr class="memdesc:a153ec12bc13015070bd1913cd69e6f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an <a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/structARNETWORK__IOBufferParam__t.html">ARNETWORK_IOBufferParam_t</a> to describe a stream data buffer.  <a href="#a153ec12bc13015070bd1913cd69e6f4b">More...</a><br/></td></tr>
<tr class="separator:a153ec12bc13015070bd1913cd69e6f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe39c7a529b90d52292a3a3230f693f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#a3fe39c7a529b90d52292a3a3230f693f">ARSTREAM_Sender_InitStreamAckBuffer</a> (<a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/structARNETWORK__IOBufferParam__t.html">ARNETWORK_IOBufferParam_t</a> *bufferParams, int bufferID)</td></tr>
<tr class="memdesc:a3fe39c7a529b90d52292a3a3230f693f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an <a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/structARNETWORK__IOBufferParam__t.html">ARNETWORK_IOBufferParam_t</a> to describe a stream ack buffer.  <a href="#a3fe39c7a529b90d52292a3a3230f693f">More...</a><br/></td></tr>
<tr class="separator:a3fe39c7a529b90d52292a3a3230f693f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d1cd19879d1b648442ce051e7ac5820"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#a9d1cd19879d1b648442ce051e7ac5820">ARSTREAM_Sender_New</a> (<a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/ARNETWORK__Manager_8h.html#a3cd7bd69cd0a9bc49ad5422887f3dc5a">ARNETWORK_Manager_t</a> *manager, int dataBufferID, int ackBufferID, <a class="el" href="ARSTREAM__Sender_8h.html#ad10c23eb61455d64f318ae005ec93075">ARSTREAM_Sender_FrameUpdateCallback_t</a> callback, uint32_t framesBufferSize, uint32_t maxFragmentSize, uint32_t maxNumberOfFragment, void *custom, <a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a> *error)</td></tr>
<tr class="memdesc:a9d1cd19879d1b648442ce051e7ac5820"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new ARSTREAM_Sender_t.  <a href="#a9d1cd19879d1b648442ce051e7ac5820">More...</a><br/></td></tr>
<tr class="separator:a9d1cd19879d1b648442ce051e7ac5820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af331564376e4273adb87ea1bea545a74"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#af331564376e4273adb87ea1bea545a74">ARSTREAM_Sender_SetTimeBetweenRetries</a> (<a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> *sender, int minWaitTimeMs, int maxWaitTimeMs)</td></tr>
<tr class="memdesc:af331564376e4273adb87ea1bea545a74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the minimum and maximum time between retries. Setting a small retry time might increase reliability, at the cost of network and cpu loads. Setting a high retry time might decrease reliability, but also reduce the network and cpu loads. These rules apply to both the minimum and the maximum time.  <a href="#af331564376e4273adb87ea1bea545a74">More...</a><br/></td></tr>
<tr class="separator:af331564376e4273adb87ea1bea545a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a034b1ab574d7b4b306c85e66efe872d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#a034b1ab574d7b4b306c85e66efe872d2">ARSTREAM_Sender_StopSender</a> (<a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> *sender)</td></tr>
<tr class="memdesc:a034b1ab574d7b4b306c85e66efe872d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops a running ARSTREAM_Sender_t.  <a href="#a034b1ab574d7b4b306c85e66efe872d2">More...</a><br/></td></tr>
<tr class="separator:a034b1ab574d7b4b306c85e66efe872d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c5bab26c9280a0b80016ba892b0949"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#ae1c5bab26c9280a0b80016ba892b0949">ARSTREAM_Sender_Delete</a> (<a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> **sender)</td></tr>
<tr class="memdesc:ae1c5bab26c9280a0b80016ba892b0949"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an ARSTREAM_Sender_t.  <a href="#ae1c5bab26c9280a0b80016ba892b0949">More...</a><br/></td></tr>
<tr class="separator:ae1c5bab26c9280a0b80016ba892b0949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a432cf3ba0832728e7e297e109b9ae4fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#a432cf3ba0832728e7e297e109b9ae4fe">ARSTREAM_Sender_SendNewFrame</a> (<a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> *sender, uint8_t *frameBuffer, uint32_t frameSize, int flushPreviousFrames, int *nbPreviousFrames)</td></tr>
<tr class="memdesc:a432cf3ba0832728e7e297e109b9ae4fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a new frame.  <a href="#a432cf3ba0832728e7e297e109b9ae4fe">More...</a><br/></td></tr>
<tr class="separator:a432cf3ba0832728e7e297e109b9ae4fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5f9e36064f1f9f492e55daddae077e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#ac5f9e36064f1f9f492e55daddae077e3">ARSTREAM_Sender_FlushFramesQueue</a> (<a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> *sender)</td></tr>
<tr class="memdesc:ac5f9e36064f1f9f492e55daddae077e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flushes all currently queued frames.  <a href="#ac5f9e36064f1f9f492e55daddae077e3">More...</a><br/></td></tr>
<tr class="separator:ac5f9e36064f1f9f492e55daddae077e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abefd92cdf525c2133c6f8800a8611ca9"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#abefd92cdf525c2133c6f8800a8611ca9">ARSTREAM_Sender_RunDataThread</a> (void *ARSTREAM_Sender_t_Param)</td></tr>
<tr class="memdesc:abefd92cdf525c2133c6f8800a8611ca9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the data loop of the ARSTREAM_Sender_t.  <a href="#abefd92cdf525c2133c6f8800a8611ca9">More...</a><br/></td></tr>
<tr class="separator:abefd92cdf525c2133c6f8800a8611ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae61e9e48df5fb874640d51dc561171c8"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#ae61e9e48df5fb874640d51dc561171c8">ARSTREAM_Sender_RunAckThread</a> (void *ARSTREAM_Sender_t_Param)</td></tr>
<tr class="memdesc:ae61e9e48df5fb874640d51dc561171c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the acknowledge loop of the ARSTREAM_Sender_t.  <a href="#ae61e9e48df5fb874640d51dc561171c8">More...</a><br/></td></tr>
<tr class="separator:ae61e9e48df5fb874640d51dc561171c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf569a68173c7750b202876f1e716c49"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#abf569a68173c7750b202876f1e716c49">ARSTREAM_Sender_GetEstimatedEfficiency</a> (<a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> *sender)</td></tr>
<tr class="memdesc:abf569a68173c7750b202876f1e716c49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the estimated network efficiency for the ARSTREAM link An efficiency of 1.0f means that we did not do any retries.  <a href="#abf569a68173c7750b202876f1e716c49">More...</a><br/></td></tr>
<tr class="separator:abf569a68173c7750b202876f1e716c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54fda4155457ba3e6d4673ab45f545bc"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Sender_8h.html#a54fda4155457ba3e6d4673ab45f545bc">ARSTREAM_Sender_GetCustom</a> (<a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> *sender)</td></tr>
<tr class="memdesc:a54fda4155457ba3e6d4673ab45f545bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the custom pointer associated with the sender.  <a href="#a54fda4155457ba3e6d4673ab45f545bc">More...</a><br/></td></tr>
<tr class="separator:a54fda4155457ba3e6d4673ab45f545bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stream sender over network. </p>
<dl class="section date"><dt>Date</dt><dd>03/21/2013 </dd></dl>
<dl class="section author"><dt>Author</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'nic'+'ol'+'as.'+'br'+'ule'+'z@'+'par'+'ro'+'t.c'+'om'; return false;">nicol<span style="display: none;">.nosp@m.</span>as.b<span style="display: none;">.nosp@m.</span>rulez<span style="display: none;">.nosp@m.</span>@par<span style="display: none;">.nosp@m.</span>rot.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a93f076c791d04f4e1299ed6d7cc4a127"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ARSTREAM_SENDER_INFINITE_TIME_BETWEEN_RETRIES&#160;&#160;&#160;(100000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>"Infinite" time. Use this time as both minimum and maximum time in ARSTREAM_Sender_SetTimeBetweenRetries to disable retries. </p>
<dl class="section warning"><dt>Warning</dt><dd>Disabling the retry system will lower the reliability of the stream! </dd></dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ad10c23eb61455d64f318ae005ec93075"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ARSTREAM_Sender_FrameUpdateCallback_t)(<a class="el" href="ARSTREAM__Sender_8h.html#ac3e6c617607473990c705a0d081dd01d">eARSTREAM_SENDER_STATUS</a> status, uint8_t *framePointer, uint32_t frameSize, void *custom)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback type for sender informations This callback is called when a frame pointer is no longer needed by the library. This can occur when a frame is acknowledged, cancelled, or if a network error happened. </p>
<p>This callback is also used when we receive the first "full-ack" for an old frame. In this case, the framePointer and frameSize arguments are unused and set to NULL. There is no way to identify the "old" frame, but the library guarantees that the LATE_ACK status will only be called for previously cancelled frames, and at most once per cancelled frame.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>Why the call was made </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">framePointer</td><td>Pointer to the frame which was sent/cancelled </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frameSize</td><td>Size, in bytes, of the frame </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">custom</td><td>Custom pointer passed during ARSTREAM_Sender_New </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>If the status is ARSTREAM_SENDER_STATUS_FRAME_LATE_ACK, then the framePointer will be NULL. </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="ARSTREAM__Sender_8h.html#ac3e6c617607473990c705a0d081dd01d" title="Callback status values. ">eARSTREAM_SENDER_STATUS</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ac3e6c617607473990c705a0d081dd01d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ARSTREAM__Sender_8h.html#ac3e6c617607473990c705a0d081dd01d">eARSTREAM_SENDER_STATUS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback status values. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ac3e6c617607473990c705a0d081dd01daa8d856331e4c05cca27f18d55119b416"></a>ARSTREAM_SENDER_STATUS_FRAME_SENT</em>&#160;</td><td class="fielddoc">
<p>Frame was sent and acknowledged by peer </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ac3e6c617607473990c705a0d081dd01dab1d823a098890ea715536d5da93a5d2f"></a>ARSTREAM_SENDER_STATUS_FRAME_CANCEL</em>&#160;</td><td class="fielddoc">
<p>Frame was not sent, and was cancelled by a new frame </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ac3e6c617607473990c705a0d081dd01da6b56f5700a9b9cdd1ca1f52bef2e99d7"></a>ARSTREAM_SENDER_STATUS_FRAME_LATE_ACK</em>&#160;</td><td class="fielddoc">
<p>We received a full ack for an old frame. The callback will be called with null pointer and zero size. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ae1c5bab26c9280a0b80016ba892b0949"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a> ARSTREAM_Sender_Delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> **&#160;</td>
          <td class="paramname"><em>sender</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes an ARSTREAM_Sender_t. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function should NOT be called on a running ARSTREAM_Sender_t</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender</td><td>Pointer to the ARSTREAM_Sender_t * to delete</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ARSTREAM_OK if the ARSTREAM_Sender_t was deleted </dd>
<dd>
ARSTREAM_ERROR_BUSY if the ARSTREAM_Sender_t is still busy and can not be stopped now (probably because <a class="el" href="ARSTREAM__Sender_8h.html#a034b1ab574d7b4b306c85e66efe872d2" title="Stops a running ARSTREAM_Sender_t. ">ARSTREAM_Sender_StopSender()</a> was not called yet) </dd>
<dd>
ARSTREAM_ERROR_BAD_PARAMETERS if sender does not point to a valid ARSTREAM_Sender_t</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The library use a double pointer, so it can set *sender to NULL after freeing it </dd></dl>

</div>
</div>
<a class="anchor" id="ac5f9e36064f1f9f492e55daddae077e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a> ARSTREAM_Sender_FlushFramesQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> *&#160;</td>
          <td class="paramname"><em>sender</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flushes all currently queued frames. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sender</td><td>The ARSTREAM_Sender_t to be flushed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ARSTREAM_OK if no error occured. </dd>
<dd>
ARSTREAM_ERROR_BAD_PARAMETERS if the sender is invalid. </dd></dl>

</div>
</div>
<a class="anchor" id="a54fda4155457ba3e6d4673ab45f545bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ARSTREAM_Sender_GetCustom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> *&#160;</td>
          <td class="paramname"><em>sender</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the custom pointer associated with the sender. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sender</td><td>The ARSTREAM_Sender_t </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The custom pointer associated with this sender, or NULL if sender does not point to a valid sender </dd></dl>

</div>
</div>
<a class="anchor" id="abf569a68173c7750b202876f1e716c49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float ARSTREAM_Sender_GetEstimatedEfficiency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> *&#160;</td>
          <td class="paramname"><em>sender</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the estimated network efficiency for the ARSTREAM link An efficiency of 1.0f means that we did not do any retries. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function is a debug-only function and will disappear on release builds </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sender</td><td>The ARSTREAM_Sender_t </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3fe39c7a529b90d52292a3a3230f693f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ARSTREAM_Sender_InitStreamAckBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/structARNETWORK__IOBufferParam__t.html">ARNETWORK_IOBufferParam_t</a> *&#160;</td>
          <td class="paramname"><em>bufferParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bufferID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an <a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/structARNETWORK__IOBufferParam__t.html">ARNETWORK_IOBufferParam_t</a> to describe a stream ack buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bufferParams</td><td>Pointer to the <a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/structARNETWORK__IOBufferParam__t.html">ARNETWORK_IOBufferParam_t</a> to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufferID</td><td>ID to set in the <a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/structARNETWORK__IOBufferParam__t.html">ARNETWORK_IOBufferParam_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a153ec12bc13015070bd1913cd69e6f4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ARSTREAM_Sender_InitStreamDataBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/structARNETWORK__IOBufferParam__t.html">ARNETWORK_IOBufferParam_t</a> *&#160;</td>
          <td class="paramname"><em>bufferParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bufferID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxFragmentSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxFragmentPerFrame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an <a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/structARNETWORK__IOBufferParam__t.html">ARNETWORK_IOBufferParam_t</a> to describe a stream data buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bufferParams</td><td>Pointer to the <a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/structARNETWORK__IOBufferParam__t.html">ARNETWORK_IOBufferParam_t</a> to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufferID</td><td>ID to set in the <a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/structARNETWORK__IOBufferParam__t.html">ARNETWORK_IOBufferParam_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxFragmentSize</td><td>Maximum allowed size for a video data fragment. Video frames larger that will be fragmented. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxNumberOfFragment</td><td>number maximum of fragment of one frame. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9d1cd19879d1b648442ce051e7ac5820"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a>* ARSTREAM_Sender_New </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/n-brulez/workspace/PUB_SDK/ARSDKBuildUtils/Targets/Unix/Build/Doc/libARNetwork/libARNetwork.tag:../../libARNetwork/html/" href="../../libARNetwork/html/ARNETWORK__Manager_8h.html#a3cd7bd69cd0a9bc49ad5422887f3dc5a">ARNETWORK_Manager_t</a> *&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dataBufferID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ackBufferID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ARSTREAM__Sender_8h.html#ad10c23eb61455d64f318ae005ec93075">ARSTREAM_Sender_FrameUpdateCallback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>framesBufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxFragmentSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxNumberOfFragment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>custom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new ARSTREAM_Sender_t. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function allocates memory. An ARSTREAM_Sender_t muse be deleted by a call to ARSTREAM_Sender_Delete</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">manager</td><td>Pointer to a valid and connected ARNETWORK_Manager_t, which will be used to stream frames </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dataBufferID</td><td>ID of a StreamDataBuffer available within the manager </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ackBufferID</td><td>ID of a StreamAckBuffer available within the manager </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The status update callback which will be called every time the status of a send-frame is updated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">framesBufferSize</td><td>Number of frames that the ARSTREAM_Sender_t instance will be able to hold in queue </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxFragmentSize</td><td>Maximum allowed size for a video data fragment. Video frames larger that will be fragmented. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxNumberOfFragment</td><td>number maximum of fragment of one frame. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">custom</td><td>Custom pointer which will be passed to callback </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Optionnal pointer to an eARSTREAM_ERROR to hold any error information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the new ARSTREAM_Sender_t, or NULL if an error occured</dd></dl>
<dl class="section note"><dt>Note</dt><dd>framesBufferSize should be greater than the number of frames between two I-Frames</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="ARSTREAM__Sender_8h.html#a153ec12bc13015070bd1913cd69e6f4b" title="Sets an ARNETWORK_IOBufferParam_t to describe a stream data buffer. ">ARSTREAM_Sender_InitStreamDataBuffer()</a> </dd>
<dd>
<a class="el" href="ARSTREAM__Sender_8h.html#a3fe39c7a529b90d52292a3a3230f693f" title="Sets an ARNETWORK_IOBufferParam_t to describe a stream ack buffer. ">ARSTREAM_Sender_InitStreamAckBuffer()</a> </dd>
<dd>
<a class="el" href="ARSTREAM__Sender_8h.html#a034b1ab574d7b4b306c85e66efe872d2" title="Stops a running ARSTREAM_Sender_t. ">ARSTREAM_Sender_StopSender()</a> </dd>
<dd>
<a class="el" href="ARSTREAM__Sender_8h.html#ae1c5bab26c9280a0b80016ba892b0949" title="Deletes an ARSTREAM_Sender_t. ">ARSTREAM_Sender_Delete()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae61e9e48df5fb874640d51dc561171c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ARSTREAM_Sender_RunAckThread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ARSTREAM_Sender_t_Param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs the acknowledge loop of the ARSTREAM_Sender_t. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function never returns until <a class="el" href="ARSTREAM__Sender_8h.html#a034b1ab574d7b4b306c85e66efe872d2" title="Stops a running ARSTREAM_Sender_t. ">ARSTREAM_Sender_StopSender()</a> is called. Thus, it should be called on its own thread </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Stop the ARSTREAM_Sender_t by calling <a class="el" href="ARSTREAM__Sender_8h.html#a034b1ab574d7b4b306c85e66efe872d2" title="Stops a running ARSTREAM_Sender_t. ">ARSTREAM_Sender_StopSender()</a> before joining the thread calling this function </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ARSTREAM_Sender_t_Param</td><td>A valid (ARSTREAM_Sender_t *) casted as a (void *) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abefd92cdf525c2133c6f8800a8611ca9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ARSTREAM_Sender_RunDataThread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ARSTREAM_Sender_t_Param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs the data loop of the ARSTREAM_Sender_t. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function never returns until <a class="el" href="ARSTREAM__Sender_8h.html#a034b1ab574d7b4b306c85e66efe872d2" title="Stops a running ARSTREAM_Sender_t. ">ARSTREAM_Sender_StopSender()</a> is called. Thus, it should be called on its own thread </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Stop the ARSTREAM_Sender_t by calling <a class="el" href="ARSTREAM__Sender_8h.html#a034b1ab574d7b4b306c85e66efe872d2" title="Stops a running ARSTREAM_Sender_t. ">ARSTREAM_Sender_StopSender()</a> before joining the thread calling this function </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ARSTREAM_Sender_t_Param</td><td>A valid (ARSTREAM_Sender_t *) casted as a (void *) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a432cf3ba0832728e7e297e109b9ae4fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a> ARSTREAM_Sender_SendNewFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> *&#160;</td>
          <td class="paramname"><em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>frameBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>frameSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flushPreviousFrames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nbPreviousFrames</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a new frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sender</td><td>The ARSTREAM_Sender_t which will try to send the frame </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frameBuffer</td><td>pointer to the frame in memory </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frameSize</td><td>size of the frame in memory </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flushPreviousFrames</td><td>Boolean-like flag (0/1). If active, tells the sender to flush the frame queue when adding this frame. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nbPreviousFrames</td><td>Optionnal int pointer which will store the number of frames previously in the buffer (even if the buffer is flushed) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ARSTREAM_OK if no error happened </dd>
<dd>
ARSTREAM_ERROR_BAD_PARAMETERS if the sender or frameBuffer pointer is invalid, or if frameSize is zero </dd>
<dd>
ARSTREAM_ERROR_FRAME_TOO_LARGE if the frameSize is greater that the maximum frame size of the libARStream (typically 128000 bytes) </dd>
<dd>
ARSTREAM_ERROR_QUEUE_FULL if the frame can not be added to queue. This value can not happen if flushPreviousFrames is active </dd></dl>

</div>
</div>
<a class="anchor" id="af331564376e4273adb87ea1bea545a74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a> ARSTREAM_Sender_SetTimeBetweenRetries </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> *&#160;</td>
          <td class="paramname"><em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minWaitTimeMs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxWaitTimeMs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the minimum and maximum time between retries. Setting a small retry time might increase reliability, at the cost of network and cpu loads. Setting a high retry time might decrease reliability, but also reduce the network and cpu loads. These rules apply to both the minimum and the maximum time. </p>
<p>The library selects a wait time between the two bounds using data retrieved from the ARNETWORK_Manager_t.</p>
<p>If the minimum and maximum wait times are equal, then the library will always use this time.</p>
<dl class="section note"><dt>Note</dt><dd>To reset to default values, use ARSTREAM_SENDER_DEFAULT_MINIMUM_TIME_BETWEEN_RETRIES_MS and ARSTREAM_SENDER_DEFAULT_MAXIMUM_TIME_BETWEEN_RETRIES_MS. </dd>
<dd>
To disable retries, use ARSTREAM_SENDER_INFINITE_TIME_BETWEEN_RETRIES as both minimum and maximum time. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Setting a too low maximum wait time might create a very high network bandwidth, and a very high cpu load. </dd>
<dd>
Setting a too big minimum wait time (i.e. greater than the time between two flush frames) will effectively disable retries. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">minWaitTimeMs</td><td>The minimum time between two retries, in miliseconds. </td></tr>
    <tr><td class="paramname">maxWaitTimeMs</td><td>The maximum time between two retries, in miliseconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ARSTREAM_OK if the new time range is set. </dd>
<dd>
ARSTREAM_ERROR_BAD_PARAMETERS if sender is NULL, or if minWaitTimeMs is greater than maxWaitTimeMs. </dd></dl>

</div>
</div>
<a class="anchor" id="a034b1ab574d7b4b306c85e66efe872d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ARSTREAM_Sender_StopSender </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ARSTREAM__Sender_8h.html#a10fd0b4d4d23202e08626434f3b3479f">ARSTREAM_Sender_t</a> *&#160;</td>
          <td class="paramname"><em>sender</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops a running ARSTREAM_Sender_t. </p>
<dl class="section warning"><dt>Warning</dt><dd>Once stopped, an ARSTREAM_Sender_t can not be restarted</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sender</td><td>The ARSTREAM_Sender_t to stop</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Calling this function multiple times has no effect </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5337958d0bc91249fdb436c6fc335337.html">libARStream</a></li><li class="navelem"><a class="el" href="dir_08b6ec8fe6047bda59e9de77b27448ef.html">Includes</a></li><li class="navelem"><a class="el" href="dir_5c2a28a9780b163d17016db62e4321b7.html">libARStream</a></li><li class="navelem"><a class="el" href="ARSTREAM__Sender_8h.html">ARSTREAM_Sender.h</a></li>
    <li class="footer">Generated on Tue Jan 20 2015 15:34:17 for libARStream by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
